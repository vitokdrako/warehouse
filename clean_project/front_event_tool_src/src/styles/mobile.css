/* FarforDecor Event Planner - Mobile Styles */
/* Повна мобільна адаптація для декораторів */

/* ====================================
   MOBILE BREAKPOINTS:
   - Small phones: < 375px
   - Normal phones: 375px - 480px
   - Large phones/Small tablets: 481px - 768px
   - Tablets: 769px - 1024px
   ==================================== */

/* ====================================
   HEADER - Mobile
   ==================================== */
@media (max-width: 768px) {
  .fd-header {
    padding: 12px 16px;
    position: sticky;
    top: 0;
    z-index: 100;
  }

  .fd-header .flex.items-center.justify-between {
    flex-wrap: wrap;
    gap: 8px;
  }

  .fd-header .flex.items-center.gap-4:first-child {
    flex: 1;
    min-width: 0;
  }

  /* Hide logo text on small screens */
  .fd-header h1.text-xl {
    font-size: 14px !important;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* Hide divider and subtitle */
  .fd-header .w-px.h-5,
  .fd-header span.text-xs {
    display: none;
  }

  /* Logo smaller */
  .fd-header img[alt="FarforDecor Logo"] {
    height: 32px !important;
  }

  /* Right side buttons */
  .fd-header .flex.items-center.gap-4:last-child {
    gap: 8px;
  }

  .fd-header .flex.items-center.gap-4:last-child > span {
    display: none; /* Hide user name */
  }

  .fd-header .fd-btn-secondary {
    padding: 6px 10px;
    font-size: 10px;
  }
}

@media (max-width: 480px) {
  .fd-header {
    padding: 10px 12px;
  }

  .fd-header h1.text-xl {
    display: none;
  }

  .fd-header img[alt="FarforDecor Logo"] {
    height: 28px !important;
  }
}

/* ====================================
   MAIN LAYOUT - Mobile
   ==================================== */
@media (max-width: 1024px) {
  /* Main flex container */
  .flex.h-\[calc\(100vh-73px\)\] {
    flex-direction: column;
    height: auto;
    min-height: calc(100vh - 73px);
  }

  /* Catalog section - full width */
  .flex-1.overflow-auto {
    margin-right: 0 !important;
    width: 100%;
  }

  /* Side panel - overlay on mobile */
  .w-96.fd-side-panel {
    position: fixed;
    right: 0;
    top: 0;
    bottom: 0;
    width: 100% !important;
    max-width: 400px;
    z-index: 200;
    transform: translateX(0);
    transition: transform 0.3s ease;
    height: 100vh !important;
  }
}

@media (max-width: 768px) {
  .flex.h-\[calc\(100vh-73px\)\] {
    height: auto;
  }

  /* Side panel - full screen on phones */
  .w-96.fd-side-panel {
    max-width: 100%;
    width: 100% !important;
  }
}

/* ====================================
   CATALOG SECTION - Mobile
   ==================================== */
@media (max-width: 768px) {
  /* Catalog padding */
  .flex-1.overflow-auto > .p-8 {
    padding: 16px !important;
  }

  /* Search input */
  .flex-1.overflow-auto input[type="text"][placeholder*="пошук"] {
    font-size: 16px !important; /* Prevent iOS zoom */
    padding: 14px 16px !important;
  }

  /* Filters section */
  .product-filters {
    flex-direction: column;
    gap: 12px;
  }

  .filter-group {
    width: 100%;
    min-width: auto;
  }

  .filter-select {
    width: 100%;
    font-size: 16px !important; /* Prevent iOS zoom */
    height: 48px;
    padding: 12px 15px;
  }

  /* Product count */
  .mb-4.flex.items-center.justify-between {
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
  }
}

/* ====================================
   PRODUCT GRID - Mobile
   ==================================== */
@media (max-width: 1024px) {
  .grid.grid-cols-1.md\:grid-cols-2.lg\:grid-cols-3.xl\:grid-cols-4 {
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 16px;
  }
}

@media (max-width: 768px) {
  .grid.grid-cols-1.md\:grid-cols-2.lg\:grid-cols-3.xl\:grid-cols-4 {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 12px;
  }
}

@media (max-width: 480px) {
  .grid.grid-cols-1.md\:grid-cols-2.lg\:grid-cols-3.xl\:grid-cols-4 {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 10px;
  }
}

/* ====================================
   PRODUCT CARD - Mobile
   ==================================== */
@media (max-width: 768px) {
  .product-card {
    border-radius: 6px;
  }

  .product-card-body {
    padding: 10px;
  }

  .product-card-title {
    font-size: 12px;
    min-height: 2.4em;
    -webkit-line-clamp: 2;
  }

  .product-card-sku {
    font-size: 10px;
    margin-bottom: 6px;
  }

  .product-card-info {
    margin-bottom: 8px;
  }

  .product-card-price {
    font-size: 14px;
  }

  .product-card-price-unit {
    font-size: 10px;
  }

  .product-card-quantity {
    font-size: 10px;
  }

  .product-card-button {
    padding: 8px 10px;
    font-size: 10px;
  }

  /* Availability badges */
  .product-availability-badge {
    font-size: 9px;
    padding: 2px 6px;
  }

  /* Availability info tags */
  .product-card-body > div[style*="display: flex"][style*="gap: 6px"] {
    gap: 4px !important;
  }

  .product-card-body > div[style*="display: flex"][style*="gap: 6px"] span {
    font-size: 9px !important;
    padding: 2px 6px !important;
  }
}

@media (max-width: 375px) {
  .product-card-title {
    font-size: 11px;
  }

  .product-card-price {
    font-size: 13px;
  }

  .product-card-button {
    padding: 6px 8px;
    font-size: 9px;
  }
}

/* ====================================
   SIDE PANEL - Mobile
   ==================================== */
@media (max-width: 768px) {
  /* Side panel header */
  .fd-side-header {
    padding: 16px !important;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .fd-side-title {
    font-size: 14px !important;
  }

  /* Board selector section */
  .fd-side-panel > div[style*="padding: 12px 18px"] {
    padding: 12px 16px !important;
  }

  .fd-side-panel .fd-select {
    font-size: 16px !important; /* Prevent iOS zoom */
    padding: 12px !important;
    height: auto;
  }

  /* Board info section */
  .fd-side-panel > div[style*="padding: 12px 18px"][style*="border-bottom"] {
    padding: 12px 16px !important;
  }

  /* Items list */
  .fd-side-panel .flex-1.overflow-auto {
    padding: 12px !important;
  }

  /* Summary section */
  .fd-side-panel > div[style*="padding: 14px 18px"][style*="border-top"] {
    padding: 14px 16px !important;
  }

  /* Buttons in summary */
  .fd-side-panel .fd-btn-primary,
  .fd-side-panel .fd-btn-black {
    padding: 12px !important;
    font-size: 12px !important;
  }
}

/* ====================================
   BOARD ITEM CARD - Mobile
   ==================================== */
@media (max-width: 768px) {
  .board-item-card {
    padding: 10px;
  }

  .board-item-title {
    font-size: 12px;
  }

  .board-item-sku {
    font-size: 10px;
  }

  .board-item-quantity-label {
    font-size: 11px;
  }

  .board-item-quantity-btn {
    width: 28px;
    height: 28px;
    font-size: 14px;
  }

  .board-item-quantity-input {
    width: 40px;
    font-size: 13px;
  }

  .board-item-price-calculation {
    font-size: 10px;
  }

  .board-item-price-total {
    font-size: 12px;
  }
}

/* ====================================
   DATE RANGE PICKER - Mobile
   ==================================== */
@media (max-width: 768px) {
  /* Date inputs */
  .grid.grid-cols-2.gap-3 {
    gap: 8px;
  }

  .grid.grid-cols-2.gap-3 input[type="date"] {
    font-size: 14px !important;
    padding: 10px 8px !important;
    min-height: 44px; /* Touch target */
  }

  .grid.grid-cols-2.gap-3 .fd-label {
    font-size: 10px;
    margin-bottom: 4px;
  }
}

/* ====================================
   TOGGLE BUTTON (when panel closed)
   ==================================== */
@media (max-width: 768px) {
  /* Floating cart button */
  button.fixed.right-0.top-1\/2 {
    top: auto !important;
    bottom: 20px !important;
    right: 16px !important;
    transform: none !important;
    border-radius: 50% !important;
    width: 56px !important;
    height: 56px !important;
    padding: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;
  }

  button.fixed.right-0.top-1\/2 span {
    transform: none !important;
    writing-mode: horizontal-tb !important;
    font-size: 20px !important;
  }
}

/* ====================================
   MODALS - Mobile
   ==================================== */
@media (max-width: 768px) {
  /* Modal overlay */
  .modal-overlay {
    padding: 0 !important;
    align-items: flex-end !important;
  }

  /* Modal container */
  .modal-container {
    max-width: 100% !important;
    max-height: 90vh !important;
    border-radius: 16px 16px 0 0 !important;
    padding: 20px 16px !important;
    overflow-y: auto !important;
  }

  .modal-title {
    font-size: 18px !important;
  }

  /* Form elements */
  .modal-container .form-input,
  .modal-container .form-select,
  .modal-container .form-textarea {
    font-size: 16px !important; /* Prevent iOS zoom */
    padding: 12px !important;
  }

  .modal-container input[type="date"] {
    font-size: 16px !important;
    padding: 12px !important;
  }

  /* Form row - stack on mobile */
  .form-row {
    flex-direction: column !important;
    gap: 12px !important;
  }

  /* Form actions */
  .form-actions {
    flex-direction: column !important;
    gap: 8px !important;
  }

  .form-actions button {
    width: 100% !important;
    padding: 14px !important;
  }
}

/* ====================================
   LOGIN PAGE - Mobile
   ==================================== */
@media (max-width: 768px) {
  .min-h-screen.flex.items-center.justify-center.p-4 {
    padding: 16px !important;
  }

  .min-h-screen.flex.items-center.justify-center.p-4 > div {
    padding: 24px 20px !important;
    max-width: 100% !important;
  }

  .min-h-screen.flex.items-center.justify-center.p-4 h1 {
    font-size: 20px !important;
  }

  .min-h-screen.flex.items-center.justify-center.p-4 img {
    height: 48px !important;
  }

  /* Input fields */
  .min-h-screen.flex.items-center.justify-center.p-4 input {
    font-size: 16px !important; /* Prevent iOS zoom */
    padding: 14px 16px !important;
  }

  /* Auth tabs */
  .min-h-screen.flex.items-center.justify-center.p-4 .flex.gap-2 button {
    padding: 12px !important;
  }
}

/* ====================================
   FILTERS - Mobile enhancements
   ==================================== */
@media (max-width: 768px) {
  /* Active filter tags */
  .filter-active-tags {
    margin-top: 12px;
    gap: 6px;
  }

  .filter-tag {
    font-size: 10px;
    padding: 5px 10px;
  }
}

/* ====================================
   LOAD MORE BUTTON - Mobile
   ==================================== */
@media (max-width: 768px) {
  .text-center.mt-8 .fd-btn-black {
    width: 100%;
    padding: 14px !important;
  }
}

/* ====================================
   USER PROFILE PAGE - Mobile
   ==================================== */
@media (max-width: 768px) {
  /* Profile container */
  .min-h-screen.bg-gray-50 {
    padding-bottom: 20px;
  }

  /* Profile header */
  .profile-header {
    flex-direction: column;
    gap: 16px;
    text-align: center;
  }

  /* Boards grid */
  .profile-boards-grid {
    grid-template-columns: 1fr !important;
    gap: 12px;
  }
}

/* ====================================
   CHECKOUT MODAL - Mobile
   ==================================== */
@media (max-width: 768px) {
  /* Order checkout modal specifics */
  .order-checkout-modal {
    max-height: 95vh !important;
  }

  .order-checkout-modal .order-items-list {
    max-height: 200px;
  }

  .order-checkout-modal .order-summary {
    position: sticky;
    bottom: 0;
    background: white;
    padding-top: 12px;
    border-top: 1px solid #eee;
  }
}

/* ====================================
   TOUCH OPTIMIZATIONS
   ==================================== */
@media (max-width: 768px) {
  /* Minimum touch target sizes */
  button,
  a,
  input[type="checkbox"],
  input[type="radio"],
  select {
    min-height: 44px;
  }

  /* Better tap highlighting */
  button,
  a {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
  }

  /* Prevent text selection on buttons */
  button {
    -webkit-user-select: none;
    user-select: none;
  }

  /* Smooth scrolling */
  .overflow-auto,
  .overflow-y-auto {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }
}

/* ====================================
   iOS SPECIFIC FIXES
   ==================================== */
@supports (-webkit-touch-callout: none) {
  /* iOS specific styles */
  
  /* Fix for iOS input zoom */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="tel"],
  input[type="date"],
  select,
  textarea {
    font-size: 16px !important;
  }

  /* Fix for iOS bottom safe area */
  .modal-container {
    padding-bottom: calc(20px + env(safe-area-inset-bottom)) !important;
  }

  /* Fix for iOS sticky positioning */
  .fd-header {
    position: -webkit-sticky;
    position: sticky;
  }
}

/* ====================================
   LANDSCAPE MODE - Mobile
   ==================================== */
@media (max-width: 896px) and (orientation: landscape) {
  /* Adjust for landscape phones */
  .fd-header {
    padding: 8px 16px;
  }

  .fd-header img[alt="FarforDecor Logo"] {
    height: 24px !important;
  }

  /* Side panel - smaller in landscape */
  .w-96.fd-side-panel {
    max-width: 350px;
  }

  /* Modal - less height in landscape */
  .modal-container {
    max-height: 85vh !important;
  }
}

/* ====================================
   ANIMATIONS - Reduce motion
   ==================================== */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ====================================
   PRINT STYLES (bonus)
   ==================================== */
@media print {
  .fd-header,
  .fd-side-panel,
  button,
  .modal-overlay {
    display: none !important;
  }

  .product-grid {
    grid-template-columns: repeat(3, 1fr) !important;
  }
}
