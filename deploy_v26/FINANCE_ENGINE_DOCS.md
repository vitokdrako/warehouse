# üìä Rental Finance Engine v1.0

## –û–≥–ª—è–¥ —Å–∏—Å—Ç–µ–º–∏

Rental Finance Engine - —Ü–µ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –æ–±–ª—ñ–∫—É –¥–ª—è rental-–±—ñ–∑–Ω–µ—Å—É –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é **–ø–æ–¥–≤—ñ–π–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É** (double-entry bookkeeping). –ö–æ–∂–Ω–∞ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è —Å—Ç–≤–æ—Ä—é—î –∑–∞–ø–∏—Å–∏ –≤ –¥–µ–±–µ—Ç—ñ —Ç–∞ –∫—Ä–µ–¥–∏—Ç—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö —Ä–∞—Ö—É–Ω–∫—ñ–≤.

---

## üè¶ –ü–ª–∞–Ω —Ä–∞—Ö—É–Ω–∫—ñ–≤ (Chart of Accounts)

### –ê–∫—Ç–∏–≤–∏ (Assets)
| –ö–æ–¥ | –ù–∞–∑–≤–∞ | –û–ø–∏—Å |
|-----|-------|------|
| `CASH` | –ö–∞—Å–∞ | –ì–æ—Ç—ñ–≤–∫–æ–≤—ñ –∫–æ—à—Ç–∏ |
| `BANK` | –ë–∞–Ω–∫ | –ë–µ–∑–≥–æ—Ç—ñ–≤–∫–æ–≤—ñ –∫–æ—à—Ç–∏ |

### –ó–æ–±–æ–≤'—è–∑–∞–Ω–Ω—è (Liabilities)
| –ö–æ–¥ | –ù–∞–∑–≤–∞ | –û–ø–∏—Å |
|-----|-------|------|
| `DEP_LIAB` | –ó–æ–±–æ–≤'—è–∑–∞–Ω–Ω—è –ø–æ –∑–∞—Å—Ç–∞–≤–∞—Ö | –ö–æ—à—Ç–∏ –∑–∞—Å—Ç–∞–≤–∏, —è–∫—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ |
| `DEP_HOLD` | –£—Ç—Ä–∏–º–∞–Ω–∞ –∑–∞—Å—Ç–∞–≤–∞ | –ó–∞—Å—Ç–∞–≤–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ –Ω–∞ –ø–æ–∫—Ä–∏—Ç—Ç—è —à–∫–æ–¥–∏ |

### –î–æ—Ö–æ–¥–∏ (Revenue)
| –ö–æ–¥ | –ù–∞–∑–≤–∞ | –û–ø–∏—Å |
|-----|-------|------|
| `RENT_REV` | –î–æ—Ö—ñ–¥ –≤—ñ–¥ –æ—Ä–µ–Ω–¥–∏ | –û–ø–ª–∞—Ç–∞ –∑–∞ –æ—Ä–µ–Ω–¥—É —Ç–æ–≤–∞—Ä—ñ–≤ |
| `DMG_COMP` | –ö–æ–º–ø–µ–Ω—Å–∞—Ü—ñ—è —à–∫–æ–¥–∏ | –û–ø–ª–∞—Ç–∞ –∑–∞ –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è/—á–∏—Å—Ç–∫—É |

### –í–∏—Ç—Ä–∞—Ç–∏ (Expenses)
| –ö–æ–¥ | –ù–∞–∑–≤–∞ | –û–ø–∏—Å |
|-----|-------|------|
| `EXP_*` | –í–∏—Ç—Ä–∞—Ç–∏ | –†—ñ–∑–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –≤–∏—Ç—Ä–∞—Ç |

---

## üè∑Ô∏è –¢–µ–≥–∏ (Pills) —Ç–∞ —ó—Ö –∑–Ω–∞—á–µ–Ω–Ω—è

### –¢–∏–ø–∏ –ø–ª–∞—Ç–µ–∂—ñ–≤ (Payment Types)

| –¢–µ–≥ | –ö–æ–ª—ñ—Ä | –ó–Ω–∞—á–µ–Ω–Ω—è | –ü—Ä–æ–≤–æ–¥–∫–∞ |
|-----|-------|----------|----------|
| `rent` | üîµ info | –û–ø–ª–∞—Ç–∞ –æ—Ä–µ–Ω–¥–∏ | CASH/BANK ‚Üí RENT_REV |
| `deposit` | üîµ info | –ü—Ä–∏–π–æ–º –∑–∞—Å—Ç–∞–≤–∏ | CASH/BANK ‚Üí DEP_LIAB |
| `damage` | üü° warn | –ö–æ–º–ø–µ–Ω—Å–∞—Ü—ñ—è —à–∫–æ–¥–∏ | CASH/BANK ‚Üí DMG_COMP |
| `refund` | ‚ö™ neutral | –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∑–∞—Å—Ç–∞–≤–∏ | DEP_LIAB ‚Üí CASH/BANK |
| `hold` | üîµ info | –£—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–∞—Å—Ç–∞–≤–∏ | DEP_LIAB ‚Üí DEP_HOLD |

### –°—Ç–∞—Ç—É—Å–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤

| –¢–µ–≥ | –ö–æ–ª—ñ—Ä | –ó–Ω–∞—á–µ–Ω–Ω—è |
|-----|-------|----------|
| `draft` | ‚ö™ neutral | –ß–µ—Ä–Ω–µ—Ç–∫–∞ |
| `signed` | üü¢ ok | –ü—ñ–¥–ø–∏—Å–∞–Ω–æ |
| `void` | üî¥ danger | –ê–Ω—É–ª—å–æ–≤–∞–Ω–æ |

### –°—Ç–∞—Ç—É—Å–∏ –∑–∞—Å—Ç–∞–≤

| –°—Ç–∞—Ç—É—Å | –ó–Ω–∞—á–µ–Ω–Ω—è |
|--------|----------|
| `holding` | –ó–∞—Å—Ç–∞–≤–∞ —É—Ç—Ä–∏–º—É—î—Ç—å—Å—è |
| `partially_used` | –ß–∞—Å—Ç–∫–æ–≤–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ –Ω–∞ —à–∫–æ–¥—É |
| `fully_used` | –ü–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ |
| `refunded` | –ü–æ–≤–µ—Ä–Ω—É—Ç–∞ –∫–ª—ñ—î–Ω—Ç—É |
| `closed` | –ó–∞–∫—Ä–∏—Ç–∞ |

### –°—Ç–∞—Ç—É—Å–∏ –ø–æ—à–∫–æ–¥–∂–µ–Ω—å

| –¢–µ–≥ | –ö–æ–ª—ñ—Ä | –ó–Ω–∞—á–µ–Ω–Ω—è |
|-----|-------|----------|
| `‚ö†Ô∏è –ü–æ—Ç—Ä–µ–±—É—î –¥–æ–ø–ª–∞—Ç–∏` | üü° warn | –Ñ –Ω–µ–∑–∞–∫—Ä–∏—Ç—ñ —à–∫–æ–¥–∏ |
| `damage` | ‚ö™ neutral | –ù–µ–º–∞—î –±–æ—Ä–≥—É |

---

## üí∞ –§—ñ–Ω–∞–Ω—Å–æ–≤—ñ –ø–æ—Ç–æ–∫–∏

### 1. –û–ø–ª–∞—Ç–∞ –æ—Ä–µ–Ω–¥–∏ (Rent Payment)
```
–ö–ª—ñ—î–Ω—Ç –ø–ª–∞—Ç–∏—Ç—å ‚Üí CASH –∞–±–æ BANK (Debit)
                ‚Üí RENT_REV (Credit)
```
**UI:** –ö–∞—Ä—Ç–∫–∞ "–ü—Ä–∏–π–æ–º –æ–ø–ª–∞—Ç–∏ (–æ—Ä–µ–Ω–¥–∞)" –∑ —Ç–µ–≥–æ–º `rent`

### 2. –ü—Ä–∏–π–æ–º –∑–∞—Å—Ç–∞–≤–∏ (Deposit Hold)
```
–ö–ª—ñ—î–Ω—Ç –ø–ª–∞—Ç–∏—Ç—å ‚Üí CASH –∞–±–æ BANK (Debit)
                ‚Üí DEP_LIAB (Credit)
```
**UI:** –ö–∞—Ä—Ç–∫–∞ "–ü—Ä–∏–π–æ–º –∑–∞—Å—Ç–∞–≤–∏" –∑ —Ç–µ–≥–æ–º `hold`

**–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –≤–∞–ª—é—Ç:** UAH, USD, EUR –∑ –∫—É—Ä—Å–æ–º –æ–±–º—ñ–Ω—É

### 3. –ö–æ–º–ø–µ–Ω—Å–∞—Ü—ñ—è —à–∫–æ–¥–∏ (Damage Compensation)
```
–ö–ª—ñ—î–Ω—Ç –ø–ª–∞—Ç–∏—Ç—å ‚Üí CASH –∞–±–æ BANK (Debit)
                ‚Üí DMG_COMP (Credit)
```
**UI:** –ö–∞—Ä—Ç–∫–∞ "–ü–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è" –∑ —Ç–µ–≥–æ–º `damage`

**–ê–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è:** –°—É–º–∞ –±–µ—Ä–µ—Ç—å—Å—è –∑ `product_damage_history`

### 4. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–∞—Å—Ç–∞–≤–∏ –Ω–∞ —à–∫–æ–¥—É
```
DEP_LIAB (Debit) ‚Üí DEP_HOLD (Credit)
```
–ó–º–µ–Ω—à—É—î –∑–æ–±–æ–≤'—è–∑–∞–Ω–Ω—è, –∑–±—ñ–ª—å—à—É—î —É—Ç—Ä–∏–º–∞–Ω–Ω—è

### 5. –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∑–∞—Å—Ç–∞–≤–∏ (Deposit Refund)
```
DEP_LIAB (Debit) ‚Üí CASH –∞–±–æ BANK (Credit)
```
–ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –∫–ª—ñ—î–Ω—Ç—É –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—É —á–∞—Å—Ç–∏–Ω—É

---

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö

### –¢–∞–±–ª–∏—Ü—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

| –¢–∞–±–ª–∏—Ü—è | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|---------|-------------|
| `fin_accounts` | –ü–ª–∞–Ω —Ä–∞—Ö—É–Ω–∫—ñ–≤ |
| `fin_transactions` | –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó (–æ–ø–µ—Ä–∞—Ü—ñ—ó) |
| `fin_ledger_entries` | –ó–∞–ø–∏—Å–∏ –≤ –≥–æ–ª–æ–≤–Ω—ñ–π –∫–Ω–∏–∑—ñ (–ø–æ–¥–≤—ñ–π–Ω–∏–π –∑–∞–ø–∏—Å) |
| `fin_payments` | –ü–ª–∞—Ç–µ–∂—ñ –∫–ª—ñ—î–Ω—Ç—ñ–≤ |
| `fin_deposit_holds` | –ó–∞—Å—Ç–∞–≤–∏ |
| `fin_deposit_events` | –ü–æ–¥—ñ—ó –ø–æ –∑–∞—Å—Ç–∞–≤–∞—Ö |
| `fin_expenses` | –í–∏—Ç—Ä–∞—Ç–∏ |
| `fin_categories` | –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –≤–∏—Ç—Ä–∞—Ç |
| `fin_vendors` | –ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∏ |
| `fin_employees` | –°–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∏ |
| `fin_payroll` | –ó–∞—Ä–ø–ª–∞—Ç–∏ |

---

## üñ•Ô∏è UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### –§—ñ–Ω–∞–Ω—Å–æ–≤–∏–π –∫–∞–±—ñ–Ω–µ—Ç (/finance)

**–í–∫–ª–∞–¥–∫–∏:**
1. **üìä –û–≥–ª—è–¥** - –ó–∞–≥–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏: –≤–∏—Ä—É—á–∫–∞, –≤–∏—Ç—Ä–∞—Ç–∏, –∑–∞—Å—Ç–∞–≤–∏
2. **üì¶ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è** - –°–ø–∏—Å–æ–∫ –∑–∞–º–æ–≤–ª–µ–Ω—å –∑ —Ñ—ñ–Ω–∞–Ω—Å–∞–º–∏
3. **üìí –ö–Ω–∏–≥–∞** - –ñ—É—Ä–Ω–∞–ª –≤—Å—ñ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π
4. **üí∏ –í–∏—Ç—Ä–∞—Ç–∏** - –û–±–ª—ñ–∫ –≤–∏—Ç—Ä–∞—Ç –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö
5. **üë• –ó–∞—Ä–ø–ª–∞—Ç–∏** - –í–∏–ø–ª–∞—Ç–∏ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞–º
6. **üè™ –ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∏** - –û–±–ª—ñ–∫ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫—ñ–≤

### OrderFinancePanel

–ü–∞–Ω–µ–ª—å —Ñ—ñ–Ω–∞–Ω—Å—ñ–≤ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üíµ –ü—Ä–∏–π–æ–º –æ–ø–ª–∞—Ç–∏ (–æ—Ä–µ–Ω–¥–∞)    [rent]    ‚îÇ
‚îÇ ‚îú‚îÄ –î–æ —Å–ø–ª–∞—Ç–∏: ‚Ç¥ X,XXX                  ‚îÇ
‚îÇ ‚îú‚îÄ –°—É–º–∞: [input] –ú–µ—Ç–æ–¥: [cash/bank]    ‚îÇ
‚îÇ ‚îî‚îÄ [–ü—Ä–∏–π–Ω—è—Ç–∏ –æ–ø–ª–∞—Ç—É]                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚ö†Ô∏è –ü–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è      [damage/warn]      ‚îÇ
‚îÇ ‚îú‚îÄ –°–ø–∏—Å–æ–∫ —à–∫–æ–¥ –∑ product_damage_history‚îÇ
‚îÇ ‚îú‚îÄ –û—Ü—ñ–Ω–∫–∞ –∑–±–∏—Ç–∫—ñ–≤: ‚Ç¥ X,XXX (auto)      ‚îÇ
‚îÇ ‚îî‚îÄ [–ü—Ä–∏–π–Ω—è—Ç–∏ –æ–ø–ª–∞—Ç—É]                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üîí –ü—Ä–∏–π–æ–º –∑–∞—Å—Ç–∞–≤–∏           [hold]     ‚îÇ
‚îÇ ‚îú‚îÄ –û—á—ñ–∫—É–≤–∞–Ω–∞: ‚Ç¥ X,XXX                  ‚îÇ
‚îÇ ‚îú‚îÄ –í–∞–ª—é—Ç–∞: [UAH/USD/EUR] –ö—É—Ä—Å: [X.XX]  ‚îÇ
‚îÇ ‚îî‚îÄ [–ü—Ä–∏–π–Ω—è—Ç–∏ –∑–∞—Å—Ç–∞–≤—É]                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚Ü©Ô∏è –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∑–∞—Å—Ç–∞–≤–∏                  ‚îÇ
‚îÇ ‚îú‚îÄ –î–æ—Å—Ç—É–ø–Ω–æ: ‚Ç¥ X,XXX                   ‚îÇ
‚îÇ ‚îî‚îÄ [–ü–æ–≤–µ—Ä–Ω—É—Ç–∏] [–í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –Ω–∞ —à–∫–æ–¥—É]  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üìú –Ü—Å—Ç–æ—Ä—ñ—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π                  ‚îÇ
‚îÇ ‚îî‚îÄ –¢–∞–±–ª–∏—Ü—è –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìä –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ (/analytics)

### –î–æ—Å—Ç—É–ø–Ω—ñ –∑–≤—ñ—Ç–∏:

1. **–û–≥–ª—è–¥** - KPI –¥–∞—à–±–æ—Ä–¥
   - –ó–∞–≥–∞–ª—å–Ω–∏–π –¥–æ—Ö—ñ–¥ (–æ—Ä–µ–Ω–¥–∞ + —à–∫–æ–¥–∏)
   - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω—å
   - –°–µ—Ä–µ–¥–Ω—ñ–π —á–µ–∫
   - % –ø–æ—à–∫–æ–¥–∂–µ–Ω—å –≤—ñ–¥ –¥–æ—Ö–æ–¥—É

2. **–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è** - –í–∏—Ä—É—á–∫–∞ –ø–æ –ø–µ—Ä—ñ–æ–¥–∞—Ö
   - –ì—Ä—É–ø—É–≤–∞–Ω–Ω—è: –¥–µ–Ω—å/—Ç–∏–∂–¥–µ–Ω—å/–º—ñ—Å—è—Ü—å
   - –ï–∫—Å–ø–æ—Ä—Ç CSV/JSON

3. **–¢–æ–≤–∞—Ä–∏** - ROI –∞–Ω–∞–ª—ñ–∑
   - –¢–æ–ø —Ç–æ–≤–∞—Ä—ñ–≤ –ø–æ –≤–∏—Ä—É—á—Ü—ñ
   - –ü—Ä–æ—Å—Ç–æ—é—é—á—ñ —Ç–æ–≤–∞—Ä–∏
   - ROI = (–¥–æ—Ö—ñ–¥ - —à–∫–æ–¥–∏) / —Ü—ñ–Ω–∞ –∑–∞–∫—É–ø–∫–∏

4. **–ö–ª—ñ—î–Ω—Ç–∏** - –°–µ–≥–º–µ–Ω—Ç–∞—Ü—ñ—è
   - –¢–æ–ø –∫–ª—ñ—î–Ω—Ç—ñ–≤ –ø–æ –≤–∏—Ç—Ä–∞—Ç–∞—Ö
   - –ù–æ–≤—ñ vs –ø–æ–≤—Ç–æ—Ä–Ω—ñ

5. **–ü–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è** - –ê–Ω–∞–ª—ñ–∑ –∑–±–∏—Ç–∫—ñ–≤
   - –ö—Ä–∏—Ç–∏—á–Ω–∏–π –∞–ª–µ—Ä—Ç —è–∫—â–æ > 10%
   - –¢–æ–≤–∞—Ä–∏ –∑ –Ω–∞–π–±—ñ–ª—å—à–∏–º–∏ –∑–±–∏—Ç–∫–∞–º–∏

---

## üîó API Endpoints

### –ü–ª–∞—Ç–µ–∂—ñ
- `POST /api/finance/payments` - –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–ª–∞—Ç—ñ–∂
- `GET /api/finance/payments` - –°–ø–∏—Å–æ–∫ –ø–ª–∞—Ç–µ–∂—ñ–≤

### –ó–∞—Å—Ç–∞–≤–∏
- `GET /api/finance/deposits` - –°–ø–∏—Å–æ–∫ –∑–∞—Å—Ç–∞–≤
- `POST /api/finance/deposits/{id}/use` - –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –Ω–∞ —à–∫–æ–¥—É
- `POST /api/finance/deposits/{id}/refund` - –ü–æ–≤–µ—Ä–Ω—É—Ç–∏

### –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞
- `GET /api/analytics/overview` - –û–≥–ª—è–¥
- `GET /api/analytics/orders` - –ó–≤—ñ—Ç –ø–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è—Ö
- `GET /api/analytics/products` - –ó–≤—ñ—Ç –ø–æ —Ç–æ–≤–∞—Ä–∞—Ö
- `GET /api/analytics/clients` - –ó–≤—ñ—Ç –ø–æ –∫–ª—ñ—î–Ω—Ç–∞—Ö
- `GET /api/analytics/damage` - –ó–≤—ñ—Ç –ø–æ –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è—Ö
- `GET /api/analytics/order-damage-fee/{order_id}` - –®–∫–æ–¥–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

### –ï–∫—Å–ø–æ—Ä—Ç
- `GET /api/analytics/export/{type}?format=csv` - CSV
- `GET /api/analytics/export/{type}?format=json` - JSON

---

## üé® –ö–æ–ª—å–æ—Ä–æ–≤–∞ —Å—Ö–µ–º–∞ —Ç–µ–≥—ñ–≤

| –¢–æ–Ω | Tailwind –∫–ª–∞—Å–∏ | –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è |
|-----|----------------|--------------|
| `ok` | bg-emerald-50 text-emerald-800 | –£—Å–ø—ñ—Ö, –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ |
| `warn` | bg-amber-50 text-amber-800 | –ü–æ—Ç—Ä–µ–±—É—î —É–≤–∞–≥–∏ |
| `danger` | bg-rose-50 text-rose-800 | –ü–æ–º–∏–ª–∫–∞, –∞–Ω—É–ª—å–æ–≤–∞–Ω–æ |
| `info` | bg-sky-50 text-sky-800 | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–∏–π |
| `neutral` | bg-slate-50 text-slate-800 | –ù–µ–π—Ç—Ä–∞–ª—å–Ω–∏–π |

---

## üìù –ü—Ä–∏–∫–ª–∞–¥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó

**–°—Ü–µ–Ω–∞—Ä—ñ–π:** –ö–ª—ñ—î–Ω—Ç –æ–ø–ª–∞—Ç–∏–≤ –æ—Ä–µ–Ω–¥—É ‚Ç¥2,500 –≥–æ—Ç—ñ–≤–∫–æ—é

```sql
-- 1. –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è
INSERT INTO fin_transactions (tx_type, amount, entity_type, entity_id)
VALUES ('rent_payment', 2500, 'order', 7143);

-- 2. –î–µ–±–µ—Ç: –ó–±—ñ–ª—å—à—É—î–º–æ –∫–∞—Å—É
INSERT INTO fin_ledger_entries (tx_id, account_id, direction, amount)
VALUES (@tx_id, @CASH_ID, 'D', 2500);

-- 3. –ö—Ä–µ–¥–∏—Ç: –ó–±—ñ–ª—å—à—É—î–º–æ –¥–æ—Ö—ñ–¥ –≤—ñ–¥ –æ—Ä–µ–Ω–¥–∏
INSERT INTO fin_ledger_entries (tx_id, account_id, direction, amount)
VALUES (@tx_id, @RENT_REV_ID, 'C', 2500);

-- 4. –ó–∞–ø–∏—Å—É—î–º–æ –ø–ª–∞—Ç—ñ–∂
INSERT INTO fin_payments (payment_type, method, amount, order_id, tx_id)
VALUES ('rent', 'cash', 2500, 7143, @tx_id);
```

---

**–í–µ—Ä—Å—ñ—è:** 1.0  
**–î–∞—Ç–∞:** –ì—Ä—É–¥–µ–Ω—å 2025  
**–ê–≤—Ç–æ—Ä:** RentalHub Team
