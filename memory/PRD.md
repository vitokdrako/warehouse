# RentalHub - Warehouse Management System

## –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∞ –∑–∞–¥–∞—á–∞
–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–∫–ª–∞–¥–æ–º —Ç–∞ –æ—Ä–µ–Ω–¥–æ—é –¥–µ–∫–æ—Ä—É –¥–ª—è FarforRent. –í–∫–ª—é—á–∞—î —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏, —ñ–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—é, –≤–∏–¥–∞—á—É/–ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤, —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏–π –æ–±–ª—ñ–∫.

## –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω: ‚úÖ –ì–û–¢–û–í–û –î–û –î–ï–ü–õ–û–Æ

### –†–µ–∫–≤—ñ–∑–∏—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—ó (–û–ù–û–í–õ–ï–ù–û)
**–í–∏–∫–æ–Ω–∞–≤–µ—Ü—å:**
- –§–û–ü –¢—Ä–æ—Ñ—ñ–º–æ–≤–∞ –í—ñ–∫—Ç–æ—Ä—ñ—è –°–µ—Ä–≥—ñ—ó–≤–Ω–∞
- –ø/—Ä UA653220010000026003340152018 —É –±–∞–Ω–∫—É –ê–¢ ¬´–£–ù–Ü–í–ï–†–°–ê–õ –ë–ê–ù–ö¬ª
- –∫–æ–¥ –∑–∞ –î–†–§–û 3505100720

---

## ‚úÖ –í–∏–∫–æ–Ω–∞–Ω–æ –≤ —Ü—ñ–π —Å–µ—Å—ñ—ó (29.01.2026)

### üî¥ P0: Unified Calendar Hub - –†–ï–ê–õ–Ü–ó–û–í–ê–ù–û ‚úÖ

**–û–ø–∏—Å:** –Ñ–¥–∏–Ω–∏–π –≥–Ω—É—á–∫–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä —â–æ –∞–≥—Ä–µ–≥—É—î –≤—Å—ñ –ø–æ–¥—ñ—ó —Å–∏—Å—Ç–µ–º–∏ - "–¥–∑–µ—Ä–∫–∞–ª–æ –æ–ø–µ—Ä–∞—Ü—ñ–π"

#### Backend:
1. **–ù–æ–≤–∏–π —Ä–æ—É—Ç–µ—Ä** `/app/backend/routes/calendar_events.py`:
   - `GET /api/calendar/event-types` - —Ç–∏–ø–∏ –ø–æ–¥—ñ–π –∑ –∫–æ–ª—å–æ—Ä–∞–º–∏ —Ç–∞ —ñ–∫–æ–Ω–∫–∞–º–∏
   - `GET /api/calendar/events` - –∞–≥—Ä–µ–≥–æ–≤–∞–Ω—ñ –ø–æ–¥—ñ—ó –∑ —É—Å—ñ—Ö –¥–∂–µ—Ä–µ–ª
   - `GET /api/calendar/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–¥—ñ–π –Ω–∞ –¥–∞—Ç—É
   
2. **–¢–∏–ø–∏ –ø–æ–¥—ñ–π:**
   - **–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è:** issue, return, on_rent, awaiting
   - **–û–ø–µ—Ä–∞—Ü—ñ—ó:** packing, ready_issue
   - **–û–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è:** cleaning, laundry, repair
   - **–ü—Ä–æ–±–ª–µ–º–∏:** damage, overdue
   - **–§—ñ–Ω–∞–Ω—Å–∏:** payment_due, deposit_return
   - **–ó–∞–≤–¥–∞–Ω–Ω—è:** task

3. **–î–∂–µ—Ä–µ–ª–∞ –¥–∞–Ω–∏—Ö:**
   - `orders` - –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (–≤–∏–¥–∞—á–∞/–ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è/–≤ –æ—Ä–µ–Ω–¥—ñ)
   - `issue_cards` - –∫–∞—Ä—Ç–∫–∏ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü—ñ—ó
   - `product_cleaning` - –º–∏–π–∫–∞/–ø—Ä–∞–Ω–Ω—è/—Ä–µ—Å—Ç–∞–≤—Ä–∞—Ü—ñ—è
   - `damage_cases` - –∫–µ–π—Å–∏ –ø–æ—à–∫–æ–¥–∂–µ–Ω—å
   - `fin_payments` - –æ—á—ñ–∫—É–≤–∞–Ω—ñ –ø–ª–∞—Ç–µ–∂—ñ
   - `fin_deposit_holds` - –∑–∞—Å—Ç–∞–≤–∏
   - `tasks` - –∑–∞–≤–¥–∞–Ω–Ω—è

#### Frontend:
1. **–ù–æ–≤–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** `/app/frontend/src/pages/UnifiedCalendarNew.jsx`:
   - –î–µ–Ω—å/–¢–∏–∂–¥–µ–Ω—å/–ú—ñ—Å—è—Ü—å views
   - –§—ñ–ª—å—Ç—Ä–∏ –ø–æ –≥—Ä—É–ø–∞—Ö –ø–æ–¥—ñ–π (—á—ñ–ø–∏)
   - –ü–æ—à—É–∫ –ø–æ –ø–æ–¥—ñ—è—Ö
   - –ú–æ–¥–∞–ª–∫–∞ –∑ –¥–µ—Ç–∞–ª—è–º–∏ –ø–æ–¥—ñ—ó
   - –ù–∞–≤—ñ–≥–∞—Ü—ñ—è (—Å—Ç—Ä—ñ–ª–∫–∏, "–°—å–æ–≥–æ–¥–Ω—ñ")
   - –ö–æ–ª—å–æ—Ä–æ–≤–µ –∫–æ–¥—É–≤–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ –ø–æ–¥—ñ–π
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞—Ö

2. **–†–æ—É—Ç–∏–Ω–≥:** `/calendar` ‚Üí UnifiedCalendar (App.tsx)

#### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:
- ‚úÖ Backend: 100% (12/12 —Ç–µ—Å—Ç—ñ–≤)
- ‚úÖ Frontend: 100% (–≤—Å—ñ views —Ç–∞ —ñ–Ω—Ç–µ—Ä–∞–∫—Ü—ñ—ó)
- ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –±–∞–≥ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –ø–æ priority (string vs int)

---

## ‚úÖ –í–∏–∫–æ–Ω–∞–Ω–æ —Ä–∞–Ω—ñ—à–µ (28.01.2026)

### üî¥ P0: –î–æ–∫—É–º–µ–Ω—Ç–∏ –¥–ª—è —é—Ä–∏–¥–∏—á–Ω–∏—Ö –æ—Å—ñ–± - –†–ï–ê–õ–Ü–ó–û–í–ê–ù–û

#### Backend:
1. **–ù–æ–≤–∏–π —Ä–æ—É—Ç–µ—Ä** `/app/backend/routes/payer_profiles.py`:
   - `GET /api/payer-profiles/types` - —Å–ø–∏—Å–æ–∫ —Ç–∏–ø—ñ–≤ –ø–ª–∞—Ç–Ω–∏–∫—ñ–≤
   - `GET /api/payer-profiles` - —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Ñ—ñ–ª—ñ–≤
   - `POST /api/payer-profiles` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é
   - `PUT /api/payer-profiles/{id}` - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
   - `DELETE /api/payer-profiles/{id}` - –≤–∏–¥–∞–ª–µ–Ω–Ω—è
   - `POST /api/payer-profiles/order/{order_id}/assign/{profile_id}` - –ø—Ä–∏–≤'—è–∑–∫–∞ –¥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
   - `GET /api/payer-profiles/order/{order_id}` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–ª–∞—Ç–Ω–∏–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

2. **–ù–æ–≤—ñ —à–∞–±–ª–æ–Ω–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤**:
   - `/app/backend/templates/documents/invoice_legal/v1.html` - –†–∞—Ö—É–Ω–æ–∫ –¥–ª—è —é—Ä. –æ—Å—ñ–±
   - `/app/backend/templates/documents/service_act/v1.html` - –ê–∫—Ç –≤–∏–∫–æ–Ω–∞–Ω–∏—Ö —Ä–æ–±—ñ—Ç (–¥–ª—è —Å–ø—Ä–æ—â–µ–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏)
   - `/app/backend/templates/documents/goods_invoice/v1.html` - –í–∏–¥–∞—Ç–∫–æ–≤–∞ –Ω–∞–∫–ª–∞–¥–Ω–∞ (–¥–ª—è –∑–∞–≥–∞–ª—å–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏)

3. **–û–Ω–æ–≤–ª–µ–Ω—ñ —Ñ–∞–π–ª–∏**:
   - `registry.py` - –¥–æ–¥–∞–Ω–æ –Ω–æ–≤—ñ —Ç–∏–ø–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
   - `data_builders.py` - –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ payer profiles, –æ–Ω–æ–≤–ª–µ–Ω—ñ —Ä–µ–∫–≤—ñ–∑–∏—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—ó
   - `server.py` - –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ –Ω–æ–≤–∏–π —Ä–æ—É—Ç–µ—Ä

#### Frontend:
1. **–û–Ω–æ–≤–ª–µ–Ω–æ** `/app/frontend/src/pages/FinanceHub.jsx`:
   - –°–µ–∫—Ü—ñ—è –≤–∏–±–æ—Ä—É —Ç–∏–ø—É –ø–ª–∞—Ç–Ω–∏–∫–∞
   - –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–≤–∏–±–æ—Ä—É –ø—Ä–æ—Ñ—ñ–ª—é –ø–ª–∞—Ç–Ω–∏–∫–∞
   - –û–∫—Ä–µ–º–∞ —Å–µ–∫—Ü—ñ—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –¥–ª—è —é—Ä. –æ—Å—ñ–±
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–∏–ø—É –ø–ª–∞—Ç–Ω–∏–∫–∞

### –¢–∏–ø–∏ –ø–ª–∞—Ç–Ω–∏–∫—ñ–≤:
| –¢–∏–ø | –°–∏—Å—Ç–µ–º–∞ | –î–æ–∫—É–º–µ–Ω—Ç–∏ |
|-----|---------|-----------|
| `individual` | - | –†–∞—Ö—É–Ω–æ–∫-–æ—Ñ–µ—Ä—Ç–∞, –î–æ–≥–æ–≤—ñ—Ä |
| `fop_simple` | –°–ø—Ä–æ—â–µ–Ω–∞ | –†–∞—Ö—É–Ω–æ–∫ (—é—Ä.), –ê–∫—Ç –≤–∏–∫–æ–Ω–∞–Ω–∏—Ö —Ä–æ–±—ñ—Ç |
| `fop_general` | –ó–∞–≥–∞–ª—å–Ω–∞ | –†–∞—Ö—É–Ω–æ–∫ (—é—Ä.), –í–∏–¥–∞—Ç–∫–æ–≤–∞ –Ω–∞–∫–ª–∞–¥–Ω–∞ |
| `llc_simple` | –°–ø—Ä–æ—â–µ–Ω–∞ | –†–∞—Ö—É–Ω–æ–∫ (—é—Ä.), –ê–∫—Ç –≤–∏–∫–æ–Ω–∞–Ω–∏—Ö —Ä–æ–±—ñ—Ç |
| `llc_general` | –ó–∞–≥–∞–ª—å–Ω–∞ | –†–∞—Ö—É–Ω–æ–∫ (—é—Ä.), –í–∏–¥–∞—Ç–∫–æ–≤–∞ –Ω–∞–∫–ª–∞–¥–Ω–∞ |

### –õ–æ–≥—ñ–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤:
- **–°–ø—Ä–æ—â–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞** ‚Üí –ü–æ—Å–ª—É–≥–∞ "–ü—Ä–æ–∫–∞—Ç –¥–µ–∫–æ—Ä—É" (–±–µ–∑ –ü–î–í)
- **–ó–∞–≥–∞–ª—å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞** ‚Üí –¢–æ–≤–∞—Ä "–î–µ–∫–æ—Ä" (–∑ –ü–î–í 20%)

---

## –§–∞–π–ª–∏ –¥–ª—è –¥–µ–ø–ª–æ—é

### Backend (backrentalhub.farforrent.com.ua):
```
/app/backend/routes/payer_profiles.py          # –ù–û–í–ò–ô
/app/backend/server.py                         # –ó–ú–Ü–ù–ï–ù–û - –¥–æ–¥–∞–Ω–æ import —Ç–∞ router
/app/backend/services/doc_engine/registry.py   # –ó–ú–Ü–ù–ï–ù–û - –Ω–æ–≤—ñ —Ç–∏–ø–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
/app/backend/services/doc_engine/data_builders.py # –ó–ú–Ü–ù–ï–ù–û - payer profiles, —Ä–µ–∫–≤—ñ–∑–∏—Ç–∏
/app/backend/templates/documents/invoice_legal/v1.html    # –ù–û–í–ò–ô
/app/backend/templates/documents/service_act/v1.html      # –ù–û–í–ò–ô
/app/backend/templates/documents/goods_invoice/v1.html    # –ù–û–í–ò–ô
```

### Frontend (rentalhub.farforrent.com.ua):
```
/app/frontend/src/pages/FinanceHub.jsx         # –ó–ú–Ü–ù–ï–ù–û - UI –¥–ª—è —é—Ä. –æ—Å—ñ–±
```

---

## –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
–ü—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø–∏—Ç—ñ –¥–æ `/api/payer-profiles` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —Ç–∞–±–ª–∏—Ü—è:
```sql
CREATE TABLE payer_profiles (
    id INT AUTO_INCREMENT PRIMARY KEY,
    payer_type VARCHAR(50) NOT NULL DEFAULT 'individual',
    company_name VARCHAR(255),
    edrpou VARCHAR(20),
    iban VARCHAR(34),
    bank_name VARCHAR(255),
    director_name VARCHAR(255),
    address TEXT,
    tax_number VARCHAR(20),
    is_vat_payer BOOLEAN DEFAULT FALSE,
    phone VARCHAR(50),
    email VARCHAR(100),
    note TEXT,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- –¢–∞–∫–æ–∂ –¥–æ–¥–∞—î—Ç—å—Å—è –ø–æ–ª–µ –¥–æ orders:
ALTER TABLE orders ADD COLUMN payer_profile_id INT NULL;
```

---

## Backlog

### P1 (–í–∞–∂–ª–∏–≤–æ)
- [ ] –ü–æ–≤–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ RBAC (Role-Based Access Control)
- [ ] –ú—ñ—Å—è—á–Ω–∏–π —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏–π –∑–≤—ñ—Ç (–º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ)
- [ ] Telegram-–±–æ—Ç —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è

### P2 (–ë–∞–∂–∞–Ω–æ)
- [ ] –í–∏–ø—Ä–∞–≤–∏—Ç–∏ –ø—É—Å—Ç—ñ –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
- [ ] –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –ø—ñ–¥–ø–∏—Å—É

---

## –ö—Ä–µ–¥–µ–Ω—à—ñ–∞–ª–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- Email: vitokdrako@gmail.com
- Password: test123

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –Ω–æ—Ç–∞—Ç–∫–∏
- JWT —Ç–æ–∫–µ–Ω: 8 –≥–æ–¥–∏–Ω, refresh –¥–æ 7 –¥–Ω—ñ–≤
- WeasyPrint –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó PDF –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
- –†–µ–∫–≤—ñ–∑–∏—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—ó –æ–Ω–æ–≤–ª–µ–Ω—ñ: –§–û–ü –¢—Ä–æ—Ñ—ñ–º–æ–≤–∞ –í.–°.
